{"mappings":"AAAA,MAGMA,EAAS,GACTC,EAAO,CACXC,KAAMC,SAASC,cAAc,QAC7BC,MAAOF,SAASC,cAAc,SAC9BE,KAAMH,SAASC,cAAc,OAG/BG,MATE,6HAUCC,MAAKC,GAAKA,EAAEC,SACZF,MAAKG,GAAQX,EAAOY,QAAQD,KAC5BE,OAAMC,GAASC,QAAQC,IAAIF,KAmC9Bb,EAAKI,MAAMY,iBAAiB,SA5B5B,WACE,MACMC,EAPQ,EAACC,EAAaC,KAC5B,MAAMC,EAAQ,IAAIC,OAAOH,EAAa,MACtC,OAAOC,EAAOG,QAAOC,GAAMA,EAAGC,KAAKC,MAAML,IAAUG,EAAGG,MAAMD,MAAML,IAAO,EAIxDO,CAAQC,KAAKC,MAAO9B,GAElC+B,KAAIC,IACH,MAAMX,EAAQ,IAAIC,OAAOO,KAAKC,MAAO,MAUrC,MAAO,qCATME,EAAKP,KAAKQ,QACrBZ,EACA,oBAAoBQ,KAAKC,oBAEbE,EAAKL,MAAMM,QACvBZ,EACA,oBAAoBQ,KAAKC,4DAaPI,EAR0BF,EAAKG,WAShDD,EAAEE,WAAWH,QAAO,wBAA0B,2BADvD,IAA0BC,CAPd,IAEPG,KAAK,KAERpC,EAAKK,KAAKgC,UAAYpB,C","sources":["src/js/06-type-ahead.js"],"sourcesContent":["const endpoint =\n  'https://gist.githubusercontent.com/Miserlou/c5cd8364bf9b2420bb29/raw/2bf258763cdddd704f8ffd3ea9a3e81d25e2c6f6/cities.json';\n\nconst cities = [];\nconst refs = {\n  form: document.querySelector('form'),\n  input: document.querySelector('input'),\n  list: document.querySelector('ul'),\n};\n\nfetch(endpoint)\n  .then(r => r.json())\n  .then(data => cities.push(...data))\n  .catch(error => console.log(error));\n\nconst onMatch = (wordToMatch, cities) => {\n  const regex = new RegExp(wordToMatch, 'gi');\n  return cities.filter(el => el.city.match(regex) || el.state.match(regex));\n};\n\nfunction onInput() {\n  const matchArr = onMatch(this.value, cities);\n  const item = matchArr\n    .map(item => {\n      const regex = new RegExp(this.value, 'gi');\n      const city = item.city.replace(\n        regex,\n        `<span class=\"hl\">${this.value}</span>`\n      );\n      const state = item.state.replace(\n        regex,\n        `<span class=\"hl\">${this.value}</span>`\n      );\n\n      return ` <li>\n        <span class=\"name\">${city}, ${state}</span>\n        <span class=\"population\">${numberWithCommas(item.population)}</span>\n      </li>`;\n    })\n    .join(' ');\n\n  refs.list.innerHTML = item;\n}\n\nfunction numberWithCommas(x) {\n  return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n}\n\nrefs.input.addEventListener('input', onInput);\n"],"names":["$7c95cca24d5eb39a$var$cities","$7c95cca24d5eb39a$var$refs","form","document","querySelector","input","list","fetch","then","r","json","data","push","catch","error","console","log","addEventListener","item1","wordToMatch","cities1","regex","RegExp","filter","el","city","match","state","$7c95cca24d5eb39a$var$onMatch","this","value","map","item","replace","x","population","toString","join","innerHTML"],"version":3,"file":"06-type-ahead.0e9e5bbe.js.map"}